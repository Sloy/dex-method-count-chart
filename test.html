<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Dex Method Count</title>
    <script src="js/Chart.js"></script>
    <script src="js/jquery-2.1.3.min.js"></script>
    <script type="text/javascript">
        var colors = ["#F7464A", "#46BFBD", "#FDB45C", "#D32F2F", "#512DA8", "#303F9F", "#E64A19"];
        function color(index) {
            return colors[index % colors.length];
        }

        function showChart(jsonData) {
            var charData = [];
            $.each(jsonData, function (i, node) {
                charData.push({
                    value: node.count,
                    label: node.name,
                    color: color(i),
                    highlight: "#FF5A5E"
                })
            });

            var options = {};
            // Get context with jQuery - using jQuery's .get() method.
            var ctx = $("#myChart").get(0).getContext("2d");
            // This will get the first returned node in the jQuery collection.
            var myChart = new Chart(ctx).Pie(charData, options);
        }

        function showList(jsonData) {

        }

        $(function () {
            $.ajax({
                url: 'data.json',
                dataType: 'text',
                success: function (data) {
                    var json = $.parseJSON(data);

                    var firstLevel = json.children;

                    showChart(firstLevel);
                    showList(firstLevel)
                }
            })
        });

    </script>
</head>
<body>

<canvas id="myChart" width="400" height="400"></canvas>

</body>

</html>